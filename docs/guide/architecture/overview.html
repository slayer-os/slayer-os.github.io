<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SlayerOS Architecture Overview | SlayerOS</title>
    <meta name="description" content="A lightweight, fast, and sleek operating system designed for x86_64 processors, focused on minimalism and efficiency">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/assets/style.CCmJh8R-.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.w6KDez6h.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.C79qKxyx.js">
    <link rel="modulepreload" href="/assets/chunks/framework.DPDPlp3K.js">
    <link rel="modulepreload" href="/assets/guide_architecture_overview.md.Bxl0mgL7.lean.js">
    <link rel="icon" href="/favicon.ico">
    <link rel="manifest" href="/site.webmanifest">
    <meta name="theme-color" content="#613dc1">
    <meta name="background-color" content="#2c0735">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-a9a9e638><!--[--><!--]--><!--[--><span tabindex="-1" data-v-492508fc></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-492508fc>Skip to content</a><!--]--><!----><header class="VPNav" data-v-a9a9e638 data-v-f1e365da><div class="VPNavBar" data-v-f1e365da data-v-822684d1><div class="wrapper" data-v-822684d1><div class="container" data-v-822684d1><div class="title" data-v-822684d1><div class="VPNavBarTitle has-sidebar" data-v-822684d1 data-v-0f4f798b><a class="title" href="/" data-v-0f4f798b><!--[--><!--]--><!----><span data-v-0f4f798b>SlayerOS</span><!--[--><!--]--></a></div></div><div class="content" data-v-822684d1><div class="content-body" data-v-822684d1><!--[--><!--]--><div class="VPNavBarSearch search" data-v-822684d1><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-822684d1 data-v-e6d46098><span id="main-nav-aria-label" class="visually-hidden" data-v-e6d46098> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/guide/" tabindex="0" data-v-e6d46098 data-v-956ec74c><!--[--><span data-v-956ec74c>Guide</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/config/" tabindex="0" data-v-e6d46098 data-v-956ec74c><!--[--><span data-v-956ec74c>Configuration</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/contributing/" tabindex="0" data-v-e6d46098 data-v-956ec74c><!--[--><span data-v-956ec74c>Contributing</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-e6d46098 data-v-04f5c5e9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-04f5c5e9><span class="text" data-v-04f5c5e9><!----><span data-v-04f5c5e9>Resources</span><span class="vpi-chevron-down text-icon" data-v-04f5c5e9></span></span></button><div class="menu" data-v-04f5c5e9><div class="VPMenu" data-v-04f5c5e9 data-v-7dd3104a><div class="items" data-v-7dd3104a><!--[--><!--[--><div class="VPMenuLink" data-v-7dd3104a data-v-acbfed09><a class="VPLink link vp-external-link-icon" href="https://wiki.osdev.org/Main_Page" target="_blank" rel="noreferrer" data-v-acbfed09><!--[--><span data-v-acbfed09>OS Development Wiki</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-7dd3104a data-v-acbfed09><a class="VPLink link vp-external-link-icon" href="https://www.felixcloutier.com/x86/" target="_blank" rel="noreferrer" data-v-acbfed09><!--[--><span data-v-acbfed09>x86_64 Reference</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-7dd3104a data-v-acbfed09><a class="VPLink link vp-external-link-icon" href="https://github.com/limine-bootloader/limine" target="_blank" rel="noreferrer" data-v-acbfed09><!--[--><span data-v-acbfed09>Limine Bootloader</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-e6d46098 data-v-04f5c5e9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-04f5c5e9><span class="text" data-v-04f5c5e9><!----><span data-v-04f5c5e9>1.0.3</span><span class="vpi-chevron-down text-icon" data-v-04f5c5e9></span></span></button><div class="menu" data-v-04f5c5e9><div class="VPMenu" data-v-04f5c5e9 data-v-7dd3104a><div class="items" data-v-7dd3104a><!--[--><!--[--><div class="VPMenuLink" data-v-7dd3104a data-v-acbfed09><a class="VPLink link vp-external-link-icon" href="https://github.com/slayer-os/SlayerOS/blob/main/CHANGELOG.md" target="_blank" rel="noreferrer" data-v-acbfed09><!--[--><span data-v-acbfed09>Changelog</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-7dd3104a data-v-acbfed09><a class="VPLink link vp-external-link-icon" href="https://github.com/slayer-os/SlayerOS/blob/main/ROADMAP.md" target="_blank" rel="noreferrer" data-v-acbfed09><!--[--><span data-v-acbfed09>Roadmap</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-822684d1 data-v-af096f4a><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-af096f4a data-v-e40a8bb6 data-v-4a1c76db><span class="check" data-v-4a1c76db><span class="icon" data-v-4a1c76db><!--[--><span class="vpi-sun sun" data-v-e40a8bb6></span><span class="vpi-moon moon" data-v-e40a8bb6></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-822684d1 data-v-164c457f data-v-ee7a9424><!--[--><a class="VPSocialLink no-icon" href="https://github.com/slayer-os/" aria-label="github" target="_blank" rel="noopener" data-v-ee7a9424 data-v-d26d30cb><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-822684d1 data-v-925effce data-v-04f5c5e9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-04f5c5e9><span class="vpi-more-horizontal icon" data-v-04f5c5e9></span></button><div class="menu" data-v-04f5c5e9><div class="VPMenu" data-v-04f5c5e9 data-v-7dd3104a><!----><!--[--><!--[--><!----><div class="group" data-v-925effce><div class="item appearance" data-v-925effce><p class="label" data-v-925effce>Appearance</p><div class="appearance-action" data-v-925effce><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-925effce data-v-e40a8bb6 data-v-4a1c76db><span class="check" data-v-4a1c76db><span class="icon" data-v-4a1c76db><!--[--><span class="vpi-sun sun" data-v-e40a8bb6></span><span class="vpi-moon moon" data-v-e40a8bb6></span><!--]--></span></span></button></div></div></div><div class="group" data-v-925effce><div class="item social-links" data-v-925effce><div class="VPSocialLinks social-links-list" data-v-925effce data-v-ee7a9424><!--[--><a class="VPSocialLink no-icon" href="https://github.com/slayer-os/" aria-label="github" target="_blank" rel="noopener" data-v-ee7a9424 data-v-d26d30cb><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-822684d1 data-v-5dea55bf><span class="container" data-v-5dea55bf><span class="top" data-v-5dea55bf></span><span class="middle" data-v-5dea55bf></span><span class="bottom" data-v-5dea55bf></span></span></button></div></div></div></div><div class="divider" data-v-822684d1><div class="divider-line" data-v-822684d1></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-a9a9e638 data-v-070ab83d><div class="container" data-v-070ab83d><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-070ab83d><span class="vpi-align-left menu-icon" data-v-070ab83d></span><span class="menu-text" data-v-070ab83d>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-070ab83d data-v-168ddf5d><button data-v-168ddf5d>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-a9a9e638 data-v-18756405><div class="curtain" data-v-18756405></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-18756405><span class="visually-hidden" id="sidebar-aria-label" data-v-18756405> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-9e426adc><section class="VPSidebarItem level-0" data-v-9e426adc data-v-a4b0d9bf><div class="item" role="button" tabindex="0" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><h2 class="text" data-v-a4b0d9bf>Introduction</h2><!----></div><div class="items" data-v-a4b0d9bf><!--[--><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/guide/" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>What is this?</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-9e426adc><section class="VPSidebarItem level-0 has-active" data-v-9e426adc data-v-a4b0d9bf><div class="item" role="button" tabindex="0" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><h2 class="text" data-v-a4b0d9bf>Architecture</h2><!----></div><div class="items" data-v-a4b0d9bf><!--[--><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/guide/architecture/overview.html" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Project Structure</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/guide/architecture/memory.html" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Memory Management</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/guide/architecture/bootloader.html" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Bootloader</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/guide/architecture/driver.html" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Driver</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/guide/architecture/libc.html" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>LibC</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-9e426adc><section class="VPSidebarItem level-0" data-v-9e426adc data-v-a4b0d9bf><div class="item" role="button" tabindex="0" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><h2 class="text" data-v-a4b0d9bf>Development</h2><!----></div><div class="items" data-v-a4b0d9bf><!--[--><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/guide/development/building.html" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Building</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/guide/development/debugging.html" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Debugging</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-a9a9e638 data-v-91765379><div class="VPDoc has-sidebar has-aside" data-v-91765379 data-v-83890dd9><!--[--><!--]--><div class="container" data-v-83890dd9><div class="aside" data-v-83890dd9><div class="aside-curtain" data-v-83890dd9></div><div class="aside-container" data-v-83890dd9><div class="aside-content" data-v-83890dd9><div class="VPDocAside" data-v-83890dd9 data-v-6d7b3c46><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-6d7b3c46 data-v-b38bf2ff><div class="content" data-v-b38bf2ff><div class="outline-marker" data-v-b38bf2ff></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-b38bf2ff>On this page</div><ul class="VPDocOutlineItem root" data-v-b38bf2ff data-v-3f927ebe><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-6d7b3c46></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-83890dd9><div class="content-container" data-v-83890dd9><!--[--><!--]--><main class="main" data-v-83890dd9><div style="position:relative;" class="vp-doc _guide_architecture_overview" data-v-83890dd9><div><h1 id="slayeros-architecture-overview" tabindex="-1">SlayerOS Architecture Overview <a class="header-anchor" href="#slayeros-architecture-overview" aria-label="Permalink to &quot;SlayerOS Architecture Overview&quot;">​</a></h1><p>This document provides a detailed breakdown of the SlayerOS project structure and code from the perspective of a low-level developer. SlayerOS is a simple x86_64 operating system kernel designed with minimalism and efficiency in mind.</p><h2 id="i-project-structure-overview" tabindex="-1">I. Project Structure Overview <a class="header-anchor" href="#i-project-structure-overview" aria-label="Permalink to &quot;I. Project Structure Overview&quot;">​</a></h2><h3 id="github-configuration" tabindex="-1">GitHub Configuration <a class="header-anchor" href="#github-configuration" aria-label="Permalink to &quot;GitHub Configuration&quot;">​</a></h3><ul><li><code>.github/</code>: Contains GitHub Actions configuration files for CI/CD. <ul><li><code>.github/codeql/codeql-config.yml</code>: Configuration for CodeQL, a static analysis tool. Specifies source code paths to analyze (src) and excludes certain directories (limine, libc, drivers). This is important for automatically finding potential bugs and security vulnerabilities in your code.</li><li><code>.github/workflows/build_iso.yml</code>: A GitHub Actions workflow to automatically build an ISO image of the kernel when code is pushed to the main branch. It also creates a GitHub release when a commit message contains [major].</li><li><code>.github/workflows/codeql.yml</code>: A GitHub Actions workflow to run CodeQL analysis on the code, triggered on pushes to main, pull requests to main, and scheduled runs.</li></ul></li></ul><h3 id="root-directory-files" tabindex="-1">Root Directory Files <a class="header-anchor" href="#root-directory-files" aria-label="Permalink to &quot;Root Directory Files&quot;">​</a></h3><ul><li><code>.gitignore</code>: Specifies intentionally untracked files that Git should ignore. Here, it&#39;s ignoring the build/ directory, which is where the compiled kernel and ISO image will be placed.</li><li><code>.gitmodules</code>: Defines Git submodules. This project uses drivers, libc (likely a minimal C standard library), and limine (a bootloader) as submodules. Submodules are a way to include other Git repositories within your project.</li><li><code>LICENSE</code>: The GNU General Public License v3.0. This means the project is open-source and anyone can use, modify, and distribute it, provided they adhere to the terms of the GPL.</li><li><code>Makefile</code>: A build automation file. Defines how to compile the kernel, link it, and create an ISO image. This is the central control point for building the system.</li><li><code>README.md</code>: Provides basic information about the project, instructions for building and running it, project goals, and the license.</li></ul><h3 id="miscellaneous-files" tabindex="-1">Miscellaneous Files <a class="header-anchor" href="#miscellaneous-files" aria-label="Permalink to &quot;Miscellaneous Files&quot;">​</a></h3><ul><li><code>misc/</code>: Contains miscellaneous files needed for building the kernel. <ul><li><code>misc/boot/limine.conf</code>: Configuration file for the Limine bootloader. Tells the bootloader where to find the kernel.</li><li><code>misc/linkage.ld</code>: A linker script. Defines how the kernel&#39;s object files are linked together to form the final kernel binary. Crucially, it specifies memory layout, section placement (text, data, rodata), and the entry point (_start).</li><li><code>misc/make/base.mk</code>: A base Makefile fragment. Defines common compiler flags (CFLAGS), linker flags (LDFLAGS), and QEMU options.</li></ul></li></ul><h3 id="source-code" tabindex="-1">Source Code <a class="header-anchor" href="#source-code" aria-label="Permalink to &quot;Source Code&quot;">​</a></h3><ul><li><code>src/</code>: Contains the source code for the kernel. <ul><li><code>src/include/</code>: Header files. Declare functions, structures, and constants used throughout the kernel. <ul><li><code>arch/</code>: Architecture-specific headers (x86_64 in this case). <code>serial.h</code> defines UART-related functions, and <code>sse.h</code> is related to Streaming SIMD Extensions.</li><li><code>bootloader/</code>: <code>limine.h</code> Defines structures and functions for interacting with the Limine bootloader (getting memory map, framebuffer information, etc.).</li><li><code>dbg/</code>: <code>log.h</code> Defines a simple logging system for the kernel.</li><li><code>err/</code>: <code>handler.h</code> Declares structures and functions for handling kernel errors.</li><li><code>host/</code>: <code>flags.h</code> Defines build-time flags, such as the kernel version.</li><li><code>mem/</code>: Memory management headers. <code>frames.h</code> (frame allocator), <code>heap.h</code> (heap allocator), <code>mapper.h</code> (memory mapping), <code>paging.h</code> (paging).</li></ul></li><li><code>src/kernel/</code>: Kernel source code. <ul><li><code>arch/</code>: Architecture-specific code (x86_64). <code>serial.cxx</code> implements UART (serial port) initialization and I/O. <code>sse.cxx</code> Enables the SSE extensions</li><li><code>bootloader/</code>: <code>limine.cxx</code> Code to retrieve bootloader information using the Limine protocol. It populates the boot_ctx structure.</li><li><code>dbg/logger/</code>: <code>log.cxx</code> Implements the logging functions declared in dbg/log.h. It uses the serial port for output.</li><li><code>err/</code>: <code>mangle.cxx</code> Code to demangle C++ symbol names to make tracebacks more readable. <code>meta_resolver.cxx</code> Code to resolve addresses of functions to symbol names and back</li><li><code>kern.cxx</code>: The main kernel file. Contains the <code>_start</code> function (kernel entry point) and initialization routines.</li><li><code>mem/</code>: Memory management implementation. <code>frames/frames.cxx</code> (frame allocator), <code>heap/heap.cxx</code> (heap allocator), <code>map/mapper.cxx</code> (memory mapping), <code>paging/paging.cxx</code> (paging).</li></ul></li></ul></li></ul><h2 id="ii-key-code-components-and-their-functions" tabindex="-1">II. Key Code Components and Their Functions <a class="header-anchor" href="#ii-key-code-components-and-their-functions" aria-label="Permalink to &quot;II. Key Code Components and Their Functions&quot;">​</a></h2><h3 id="bootstrapping-and-limine-src-bootloader-misc-boot" tabindex="-1">Bootstrapping and Limine (src/bootloader/, misc/boot/) <a class="header-anchor" href="#bootstrapping-and-limine-src-bootloader-misc-boot" aria-label="Permalink to &quot;Bootstrapping and Limine (src/bootloader/, misc/boot/)&quot;">​</a></h3><p>The kernel relies on the Limine bootloader to load it into memory, set up basic hardware, and provide information (memory map, framebuffer, etc.).</p><ul><li><code>misc/boot/limine.conf</code>: Specifies where the kernel is located on the ISO image.</li><li><code>src/bootloader/limine.h/cxx</code>: Defines structures to hold bootloader information and functions to retrieve it. The <code>BootloaderCtx</code> structure stores crucial data.</li><li><strong>Limine Protocol</strong>: The code interacts with the Limine bootloader using specific &quot;requests&quot; (e.g., <code>limine_memmap_request</code>). These requests are placed in special sections in the kernel binary. When Limine loads the kernel, it recognizes these requests, processes them, and populates the corresponding responses.</li></ul><h3 id="memory-management-src-mem" tabindex="-1">Memory Management (src/mem/) <a class="header-anchor" href="#memory-management-src-mem" aria-label="Permalink to &quot;Memory Management (src/mem/)&quot;">​</a></h3><p>This is fundamental to any OS kernel.</p><h4 id="paging-src-mem-paging-h-cxx" tabindex="-1">Paging (src/mem/paging.h/cxx) <a class="header-anchor" href="#paging-src-mem-paging-h-cxx" aria-label="Permalink to &quot;Paging (src/mem/paging.h/cxx)&quot;">​</a></h4><p>Implements virtual memory using paging. This allows the kernel to use more memory than physically available and provides memory protection.</p><ul><li><code>Paging::init()</code>: Initializes the paging system. It allocates a PML4 table and sets up mappings.</li><li><code>Paging::map(phys, virt, flags)</code>: Maps a physical address (phys) to a virtual address (virt) with the specified flags (present, writable, user/kernel, etc.).</li><li>Uses multi-level page tables (PML4, PML3, PML2, PML1) for address translation.</li></ul><h4 id="frame-allocator-src-mem-frames-h-cxx" tabindex="-1">Frame Allocator (src/mem/frames.h/cxx) <a class="header-anchor" href="#frame-allocator-src-mem-frames-h-cxx" aria-label="Permalink to &quot;Frame Allocator (src/mem/frames.h/cxx)&quot;">​</a></h4><p>Manages physical memory frames (fixed-size blocks of physical memory).</p><ul><li><code>Frame::init()</code>: Initializes the frame allocator. It uses the memory map provided by Limine to determine available physical memory. It creates a bitmap (frames) to track which frames are free and which are allocated.</li><li><code>Frame::alloc()</code>: Allocates a single free frame.</li><li><code>Frame::free(frame)</code>: Frees a previously allocated frame.</li></ul><h4 id="heap-allocator-src-mem-heap-h-cxx" tabindex="-1">Heap Allocator (src/mem/heap.h/cxx) <a class="header-anchor" href="#heap-allocator-src-mem-heap-h-cxx" aria-label="Permalink to &quot;Heap Allocator (src/mem/heap.h/cxx)&quot;">​</a></h4><p>Provides dynamic memory allocation within the kernel (like malloc in userspace). It&#39;s built on top of the frame allocator.</p><ul><li><code>kmalloc(size)</code>: Allocates a block of memory of the specified size from the kernel heap.</li><li><code>kfree(addr)</code>: Frees a block of memory previously allocated with kmalloc.</li><li>Uses heap pages (<code>heap_page_t</code>) and segments (<code>heap_segment_t</code>) to manage the heap.</li></ul><h4 id="memory-mapper-src-mem-mapper-h-cxx" tabindex="-1">Memory Mapper (src/mem/mapper.h/cxx) <a class="header-anchor" href="#memory-mapper-src-mem-mapper-h-cxx" aria-label="Permalink to &quot;Memory Mapper (src/mem/mapper.h/cxx)&quot;">​</a></h4><p>Responsible for creating initial memory mappings.</p><ul><li><code>Mapper::full_map()</code>: Creates all initial mappings, which might include: <ul><li>Mapping the kernel&#39;s text, rodata, and data sections.</li><li>Mapping the Higher Half Direct Map (HHDM), which allows the kernel to directly access physical memory.</li><li>Mapping framebuffer memory.</li><li>Mapping bootloader-reclaimable memory.</li></ul></li></ul><h3 id="architecture-src-arch" tabindex="-1">Architecture (src/arch/) <a class="header-anchor" href="#architecture-src-arch" aria-label="Permalink to &quot;Architecture (src/arch/)&quot;">​</a></h3><ul><li><code>serial.h/cxx</code>: Provides functions for serial port (UART) I/O. This is often used for early-stage debugging and logging. The code uses inline assembly (<code>__asm__ __volatile__</code>) to directly access I/O ports.</li><li><code>sse.h/cxx</code>: Check for SSE support, enabling it if possible</li></ul><h3 id="kernel-entry-point-src-kernel-kern-cxx" tabindex="-1">Kernel Entry Point (src/kernel/kern.cxx) <a class="header-anchor" href="#kernel-entry-point-src-kernel-kern-cxx" aria-label="Permalink to &quot;Kernel Entry Point (src/kernel/kern.cxx)&quot;">​</a></h3><ul><li><code>_start()</code>: The very first function executed by the kernel after the bootloader loads it.</li><li><code>_kernel_start()</code>: A C++ function called from <code>_start()</code>. It performs kernel initialization: <ul><li>Initializes the UART for logging.</li><li>Collects bootloader information.</li><li>Initializes the frame allocator.</li><li>Initializes the paging system.</li><li>Initializes framebuffer for graphics output.</li><li>Runs some basic tests.</li></ul></li></ul><p>After initialization, the kernel enters an infinite loop (<code>for(;;);</code>).</p><h3 id="debugging-src-dbg" tabindex="-1">Debugging (src/dbg/) <a class="header-anchor" href="#debugging-src-dbg" aria-label="Permalink to &quot;Debugging (src/dbg/)&quot;">​</a></h3><ul><li><code>log.h/cxx</code>: Defines a simple logging system for the kernel. It uses printf-like functions to format output and sends it to the serial port. Uses ANSI escape codes for colored output.</li></ul><h3 id="error-handling-src-err" tabindex="-1">Error Handling (src/err/) <a class="header-anchor" href="#error-handling-src-err" aria-label="Permalink to &quot;Error Handling (src/err/)&quot;">​</a></h3><ul><li><code>handler.h/cxx</code>: Code to parse ELF files and resolve addresses of functions</li></ul><h2 id="iii-makefile-breakdown" tabindex="-1">III. Makefile Breakdown <a class="header-anchor" href="#iii-makefile-breakdown" aria-label="Permalink to &quot;III. Makefile Breakdown&quot;">​</a></h2><p>The Makefile is crucial for automating the build process. Here&#39;s a breakdown of some of the key parts:</p><h3 id="variables" tabindex="-1">Variables <a class="header-anchor" href="#variables" aria-label="Permalink to &quot;Variables&quot;">​</a></h3><p>Defines variables for compiler flags, linker flags, source directories, object directories, etc. This makes the Makefile more maintainable.</p><h3 id="submodule-management" tabindex="-1">Submodule Management <a class="header-anchor" href="#submodule-management" aria-label="Permalink to &quot;Submodule Management&quot;">​</a></h3><div class="language-makefile vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">makefile</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">LIMINE_MAKEFILE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	git submodule update --init --recursive</span></span></code></pre></div><p>This ensures that the Limine, libc, and drivers submodules are initialized and updated.</p><h3 id="compilation-rules" tabindex="-1">Compilation Rules <a class="header-anchor" href="#compilation-rules" aria-label="Permalink to &quot;Compilation Rules&quot;">​</a></h3><div class="language-makefile vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">makefile</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">OBJ_DIR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/%.o: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">KERNEL_SRC</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/%.cxx</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	@</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mkdir -p </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@D</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CXX</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> $(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CFLAGS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> $(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">INCLUDES</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> -c -o </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$@</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> $&lt;</span></span></code></pre></div><p>This is a pattern rule. It says that to build an object file (.o) in the OBJ_DIR from a corresponding C++ source file (.cxx) in the KERNEL_SRC, use the C++ compiler ($(CXX)) with the specified flags ($(CFLAGS), $(INCLUDES)). The -c flag tells the compiler to compile only (not link). The $@ is an automatic variable representing the target file, and $&lt; represents the prerequisite file.</p><h3 id="linking-rule" tabindex="-1">Linking Rule <a class="header-anchor" href="#linking-rule" aria-label="Permalink to &quot;Linking Rule&quot;">​</a></h3><div class="language-makefile vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">makefile</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">KERNEL_BIN</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">LIBC_LIB</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> $(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DRIVERS_LIB</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> $(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">KERN_OBJECTS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">LD</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> $(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">KERN_LDFLAGS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> -o </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">KERNEL_BIN</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> $(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">KERN_OBJECTS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> $(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DRIVERS_LIB</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> $(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">LIBC_LIB</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span></span></code></pre></div><p>This rule links all the kernel object files, the libc library, and the drivers library together to create the final kernel binary ($(KERNEL_BIN)). The linker ($(LD)) uses the linker script ($(LINKER_SCRIPT)) to determine the memory layout.</p><h3 id="iso-image-creation" tabindex="-1">ISO Image Creation <a class="header-anchor" href="#iso-image-creation" aria-label="Permalink to &quot;ISO Image Creation&quot;">​</a></h3><div class="language-makefile vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">makefile</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ISO_FILE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">LIMINE_BIN</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> $(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">KERNEL_BIN</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	mkdir -p </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ISO_DIR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/boot/limine</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	mkdir -p </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ISO_DIR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/EFI/BOOT</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	cp </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">KERNEL_BIN</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> $(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ISO_DIR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/boot/slay.kernel</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	cp -v </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">LIMINE_CFG</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> $(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">LIMINE_DIR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/limine-bios.sys </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">LIMINE_DIR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/limine-bios-cd.bin </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">LIMINE_DIR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/limine-uefi-cd.bin </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ISO_DIR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/boot/limine</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	cp -v </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">LIMINE_DIR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/BOOTX64.EFI </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">LIMINE_DIR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/BOOTIA32.EFI </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ISO_DIR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/EFI/BOOT</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	xorriso -as mkisofs -R -r -J -b boot/limine/limine-bios-cd.bin </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		-no-emul-boot -boot-load-size 4 -boot-info-table -hfsplus </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		-apm-block-size 2048 --efi-boot boot/limine/limine-uefi-cd.bin </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		-efi-boot-part --efi-boot-image --protective-msdos-label </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">		$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ISO_DIR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> -o </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$@</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">LIMINE_BIN</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bios-install </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$@</span></span></code></pre></div><p>This rule creates the ISO image. It copies the kernel, Limine bootloader files, and configuration into a directory structure and then uses xorriso to create the ISO image. It also installs the Limine bootloader into the ISO.</p><h3 id="qemu-rules" tabindex="-1">QEMU Rules <a class="header-anchor" href="#qemu-rules" aria-label="Permalink to &quot;QEMU Rules&quot;">​</a></h3><div class="language-makefile vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">makefile</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ISO_FILE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	qemu-system-x86_64 </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">QEMU_ARGS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> $(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">QEMU_OPT</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> -cdrom </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ISO_FILE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span></span></code></pre></div><p>These rules define how to run the kernel in QEMU. The run target runs the kernel without debugging. debug starts QEMU in debug mode, and gdb starts the GDB debugger.</p><h2 id="iv-low-level-considerations" tabindex="-1">IV. Low-Level Considerations <a class="header-anchor" href="#iv-low-level-considerations" aria-label="Permalink to &quot;IV. Low-Level Considerations&quot;">​</a></h2><ul><li><strong>-ffreestanding</strong>: This compiler flag is essential for kernel development. It tells the compiler that the code doesn&#39;t rely on a standard C library or operating system environment. Everything the kernel needs must be provided explicitly.</li><li><strong>-nostdlib</strong>: This linker flag tells the linker not to link against the standard C library. Again, this is because the kernel provides its own minimal runtime environment.</li><li><strong>Linker Script</strong>: The <code>linkage.ld</code> file is critical. It defines the memory layout of the kernel. The <code>.text</code> section contains the executable code, the <code>.rodata</code> section contains read-only data, and the <code>.data</code> section contains initialized data. The linker script also specifies the entry point (<code>_start</code>) of the kernel. The virtual base is very important since this tells the kernel where it will be placed in memory.</li><li><strong>Inline Assembly</strong>: The <code>serial.cxx</code> file uses inline assembly to directly access I/O ports for serial communication. This is a common technique in low-level programming when you need to interact directly with hardware.</li><li><strong>Virtual and Physical Addresses</strong>: The kernel deals with both virtual and physical addresses. Virtual addresses are used by the kernel code, while physical addresses refer to actual memory locations. The paging system translates virtual addresses to physical addresses. The <code>PHYS2VIRT</code> and <code>VIRT2PHYS</code> macros are used to convert between physical and virtual addresses.</li><li><strong>Memory Mapping</strong>: The kernel must carefully map physical memory to virtual memory so that it can access hardware, data, and code. The <code>Mem::Paging::map()</code> function is used to create these mappings.</li><li><strong>Bootloader Reliance</strong>: The kernel relies heavily on the bootloader (Limine) to set up the initial environment (memory map, etc.). The kernel must use the information provided by the bootloader to properly initialize itself.</li><li><strong>Frame Allocation</strong>: The frame allocator takes a chunk of memory and divides it into frames, these frames act as a paging cache allowing memory to be managed effectively.</li></ul><h2 id="v-potential-areas-for-improvement-further-investigation" tabindex="-1">V. Potential Areas for Improvement/Further Investigation <a class="header-anchor" href="#v-potential-areas-for-improvement-further-investigation" aria-label="Permalink to &quot;V. Potential Areas for Improvement/Further Investigation&quot;">​</a></h2><ul><li><strong>Error Handling</strong>: The kernel&#39;s error handling is currently very basic. A more robust error handling system (e.g., panic handler, exception handling) would be beneficial.</li><li><strong>Interrupts</strong>: Interrupt handling is not yet implemented. This is essential for interacting with hardware devices.</li><li><strong>Drivers</strong>: The project includes a drivers submodule, but there&#39;s no driver code in the provided files. Writing drivers for devices like the keyboard, mouse, and graphics card would be a major step forward.</li><li><strong>Filesystem</strong>: There is no filesystem so there is no way to persist data, it is all in RAM.</li><li><strong>Testing</strong>: More robust unit tests for the kernel would be beneficial.</li></ul></div></div></main><footer class="VPDocFooter" data-v-83890dd9 data-v-4f9813fa><!--[--><!--]--><div class="edit-info" data-v-4f9813fa><div class="edit-link" data-v-4f9813fa><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/slayer-os/slayer-os.github.io/edit/main/docs/guide/architecture/overview.md" target="_blank" rel="noreferrer" data-v-4f9813fa><!--[--><span class="vpi-square-pen edit-link-icon" data-v-4f9813fa></span> Edit this page on GitHub<!--]--></a></div><!----></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-4f9813fa><span class="visually-hidden" id="doc-footer-aria-label" data-v-4f9813fa>Pager</span><div class="pager" data-v-4f9813fa><a class="VPLink link pager-link prev" href="/guide/" data-v-4f9813fa><!--[--><span class="desc" data-v-4f9813fa>Previous page</span><span class="title" data-v-4f9813fa>What is this?</span><!--]--></a></div><div class="pager" data-v-4f9813fa><a class="VPLink link pager-link next" href="/guide/architecture/memory.html" data-v-4f9813fa><!--[--><span class="desc" data-v-4f9813fa>Next page</span><span class="title" data-v-4f9813fa>Memory Management</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-a9a9e638 data-v-c970a860><div class="container" data-v-c970a860><p class="message" data-v-c970a860>SlayerOS</p><p class="copyright" data-v-c970a860>Copyright © 2025 SlayerOS</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"config_build.md\":\"CtNjmPXB\",\"config_hardware.md\":\"Dhu9s8Yi\",\"config_index.md\":\"BonfdQaV\",\"config_kernel.md\":\"CW-j_rkO\",\"guide_architecture_bootloader.md\":\"rF-HKSQW\",\"guide_architecture_driver.md\":\"CGaN-4j0\",\"guide_architecture_libc.md\":\"lKq24Xj1\",\"guide_architecture_memory.md\":\"DSsV3XJk\",\"guide_architecture_overview.md\":\"Bxl0mgL7\",\"guide_development_building.md\":\"D2lqfiPW\",\"guide_development_debugging.md\":\"owq1pV69\",\"guide_index.md\":\"CRJH3vjU\",\"index.md\":\"BNsqwxV1\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"SlayerOS\",\"description\":\"A lightweight, fast, and sleek operating system designed for x86_64 processors, focused on minimalism and efficiency\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"footer\":{\"message\":\"SlayerOS\",\"copyright\":\"Copyright © 2025 SlayerOS\"},\"search\":{\"provider\":\"local\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/slayer-os/\"}],\"editLink\":{\"pattern\":\"https://github.com/slayer-os/slayer-os.github.io/edit/main/docs/:path\",\"text\":\"Edit this page on GitHub\"},\"nav\":[{\"text\":\"Guide\",\"link\":\"/guide/\",\"activeMatch\":\"/guide/\"},{\"text\":\"Configuration\",\"link\":\"/config/\",\"activeMatch\":\"/config/\"},{\"text\":\"Contributing\",\"link\":\"/contributing/\",\"activeMatch\":\"/contributing/\"},{\"text\":\"Resources\",\"items\":[{\"text\":\"OS Development Wiki\",\"link\":\"https://wiki.osdev.org/Main_Page\"},{\"text\":\"x86_64 Reference\",\"link\":\"https://www.felixcloutier.com/x86/\"},{\"text\":\"Limine Bootloader\",\"link\":\"https://github.com/limine-bootloader/limine\"}]},{\"text\":\"1.0.3\",\"items\":[{\"text\":\"Changelog\",\"link\":\"https://github.com/slayer-os/SlayerOS/blob/main/CHANGELOG.md\"},{\"text\":\"Roadmap\",\"link\":\"https://github.com/slayer-os/SlayerOS/blob/main/ROADMAP.md\"}]}],\"sidebar\":{\"/guide/\":[{\"text\":\"Introduction\",\"collapsible\":true,\"items\":[{\"text\":\"What is this?\",\"link\":\"/guide/\"}]},{\"text\":\"Architecture\",\"collapsible\":true,\"items\":[{\"text\":\"Project Structure\",\"link\":\"/guide/architecture/overview\"},{\"text\":\"Memory Management\",\"link\":\"/guide/architecture/memory\"},{\"text\":\"Bootloader\",\"link\":\"/guide/architecture/bootloader\"},{\"text\":\"Driver\",\"link\":\"/guide/architecture/driver\"},{\"text\":\"LibC\",\"link\":\"/guide/architecture/libc\"}]},{\"text\":\"Development\",\"collapsible\":true,\"items\":[{\"text\":\"Building\",\"link\":\"/guide/development/building\"},{\"text\":\"Debugging\",\"link\":\"/guide/development/debugging\"}]}],\"/config/\":[{\"text\":\"Configuration\",\"items\":[{\"text\":\"Introduction\",\"link\":\"/config/\"},{\"text\":\"Kernel Configuration\",\"link\":\"/config/kernel\"},{\"text\":\"Build Options\",\"link\":\"/config/build\"},{\"text\":\"Hardware Support\",\"link\":\"/config/hardware\"}]}]}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>