<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Bootloader | SlayerOS</title>
    
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/assets/style.CCmJh8R-.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.lVKlYV1f.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.B9FUyzK3.js">
    <link rel="modulepreload" href="/assets/chunks/framework.DPDPlp3K.js">
    <link rel="modulepreload" href="/assets/guide_architecture_bootloader.md.rF-HKSQW.lean.js">
    <link rel="icon" href="/favicon.ico">
    <link rel="manifest" href="/site.webmanifest">
    <meta name="theme-color" content="#613dc1">
    <meta name="background-color" content="#2c0735">
    <meta name="description" content="SlayerOS - A lightweight, fast, and sleek operating system designed for x86_64 processors, focused on minimalism and efficiency">
    <meta name="keywords" content="SlayerOS, Operating System, x86_64, Minimalism, Efficiency">
    <meta property="og:title" content="SlayerOS">
    <meta property="og:description" content="A lightweight, fast, and sleek operating system designed for x86_64 processors, focused on minimalism and efficiency">
    <meta property="og:image" content="/og.png">
    <meta property="og:url" content="https://slayer-os.github.io">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="SlayerOS">
    <meta name="twitter:description" content="A lightweight, fast, and sleek operating system designed for x86_64 processors, focused on minimalism and efficiency">
    <meta name="twitter:image" content="/og.png">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-a9a9e638><!--[--><!--]--><!--[--><span tabindex="-1" data-v-492508fc></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-492508fc>Skip to content</a><!--]--><!----><header class="VPNav" data-v-a9a9e638 data-v-f1e365da><div class="VPNavBar" data-v-f1e365da data-v-822684d1><div class="wrapper" data-v-822684d1><div class="container" data-v-822684d1><div class="title" data-v-822684d1><div class="VPNavBarTitle has-sidebar" data-v-822684d1 data-v-0f4f798b><a class="title" href="/" data-v-0f4f798b><!--[--><!--]--><!----><span data-v-0f4f798b>SlayerOS</span><!--[--><!--]--></a></div></div><div class="content" data-v-822684d1><div class="content-body" data-v-822684d1><!--[--><!--]--><div class="VPNavBarSearch search" data-v-822684d1><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-822684d1 data-v-e6d46098><span id="main-nav-aria-label" class="visually-hidden" data-v-e6d46098> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/guide/" tabindex="0" data-v-e6d46098 data-v-956ec74c><!--[--><span data-v-956ec74c>Guide</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/config/" tabindex="0" data-v-e6d46098 data-v-956ec74c><!--[--><span data-v-956ec74c>Configuration</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/contributing/" tabindex="0" data-v-e6d46098 data-v-956ec74c><!--[--><span data-v-956ec74c>Contributing</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-e6d46098 data-v-04f5c5e9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-04f5c5e9><span class="text" data-v-04f5c5e9><!----><span data-v-04f5c5e9>Resources</span><span class="vpi-chevron-down text-icon" data-v-04f5c5e9></span></span></button><div class="menu" data-v-04f5c5e9><div class="VPMenu" data-v-04f5c5e9 data-v-7dd3104a><div class="items" data-v-7dd3104a><!--[--><!--[--><div class="VPMenuLink" data-v-7dd3104a data-v-acbfed09><a class="VPLink link vp-external-link-icon" href="https://wiki.osdev.org/Main_Page" target="_blank" rel="noreferrer" data-v-acbfed09><!--[--><span data-v-acbfed09>OS Development Wiki</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-7dd3104a data-v-acbfed09><a class="VPLink link vp-external-link-icon" href="https://www.felixcloutier.com/x86/" target="_blank" rel="noreferrer" data-v-acbfed09><!--[--><span data-v-acbfed09>x86_64 Reference</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-7dd3104a data-v-acbfed09><a class="VPLink link vp-external-link-icon" href="https://github.com/limine-bootloader/limine" target="_blank" rel="noreferrer" data-v-acbfed09><!--[--><span data-v-acbfed09>Limine Bootloader</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-e6d46098 data-v-04f5c5e9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-04f5c5e9><span class="text" data-v-04f5c5e9><!----><span data-v-04f5c5e9>1.0.3</span><span class="vpi-chevron-down text-icon" data-v-04f5c5e9></span></span></button><div class="menu" data-v-04f5c5e9><div class="VPMenu" data-v-04f5c5e9 data-v-7dd3104a><div class="items" data-v-7dd3104a><!--[--><!--[--><div class="VPMenuLink" data-v-7dd3104a data-v-acbfed09><a class="VPLink link vp-external-link-icon" href="https://github.com/slayer-os/SlayerOS/blob/main/CHANGELOG.md" target="_blank" rel="noreferrer" data-v-acbfed09><!--[--><span data-v-acbfed09>Changelog</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-7dd3104a data-v-acbfed09><a class="VPLink link vp-external-link-icon" href="https://github.com/slayer-os/SlayerOS/blob/main/ROADMAP.md" target="_blank" rel="noreferrer" data-v-acbfed09><!--[--><span data-v-acbfed09>Roadmap</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-822684d1 data-v-af096f4a><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-af096f4a data-v-e40a8bb6 data-v-4a1c76db><span class="check" data-v-4a1c76db><span class="icon" data-v-4a1c76db><!--[--><span class="vpi-sun sun" data-v-e40a8bb6></span><span class="vpi-moon moon" data-v-e40a8bb6></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-822684d1 data-v-164c457f data-v-ee7a9424><!--[--><a class="VPSocialLink no-icon" href="https://github.com/slayer-os/" aria-label="github" target="_blank" rel="noopener" data-v-ee7a9424 data-v-d26d30cb><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-822684d1 data-v-925effce data-v-04f5c5e9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-04f5c5e9><span class="vpi-more-horizontal icon" data-v-04f5c5e9></span></button><div class="menu" data-v-04f5c5e9><div class="VPMenu" data-v-04f5c5e9 data-v-7dd3104a><!----><!--[--><!--[--><!----><div class="group" data-v-925effce><div class="item appearance" data-v-925effce><p class="label" data-v-925effce>Appearance</p><div class="appearance-action" data-v-925effce><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-925effce data-v-e40a8bb6 data-v-4a1c76db><span class="check" data-v-4a1c76db><span class="icon" data-v-4a1c76db><!--[--><span class="vpi-sun sun" data-v-e40a8bb6></span><span class="vpi-moon moon" data-v-e40a8bb6></span><!--]--></span></span></button></div></div></div><div class="group" data-v-925effce><div class="item social-links" data-v-925effce><div class="VPSocialLinks social-links-list" data-v-925effce data-v-ee7a9424><!--[--><a class="VPSocialLink no-icon" href="https://github.com/slayer-os/" aria-label="github" target="_blank" rel="noopener" data-v-ee7a9424 data-v-d26d30cb><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-822684d1 data-v-5dea55bf><span class="container" data-v-5dea55bf><span class="top" data-v-5dea55bf></span><span class="middle" data-v-5dea55bf></span><span class="bottom" data-v-5dea55bf></span></span></button></div></div></div></div><div class="divider" data-v-822684d1><div class="divider-line" data-v-822684d1></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-a9a9e638 data-v-070ab83d><div class="container" data-v-070ab83d><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-070ab83d><span class="vpi-align-left menu-icon" data-v-070ab83d></span><span class="menu-text" data-v-070ab83d>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-070ab83d data-v-168ddf5d><button data-v-168ddf5d>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-a9a9e638 data-v-18756405><div class="curtain" data-v-18756405></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-18756405><span class="visually-hidden" id="sidebar-aria-label" data-v-18756405> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-9e426adc><section class="VPSidebarItem level-0" data-v-9e426adc data-v-a4b0d9bf><div class="item" role="button" tabindex="0" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><h2 class="text" data-v-a4b0d9bf>Introduction</h2><!----></div><div class="items" data-v-a4b0d9bf><!--[--><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/guide/" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>What is this?</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-9e426adc><section class="VPSidebarItem level-0 has-active" data-v-9e426adc data-v-a4b0d9bf><div class="item" role="button" tabindex="0" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><h2 class="text" data-v-a4b0d9bf>Architecture</h2><!----></div><div class="items" data-v-a4b0d9bf><!--[--><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/guide/architecture/overview.html" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Project Structure</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/guide/architecture/memory.html" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Memory Management</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/guide/architecture/bootloader.html" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Bootloader</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/guide/architecture/driver.html" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Driver</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/guide/architecture/libc.html" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>LibC</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-9e426adc><section class="VPSidebarItem level-0" data-v-9e426adc data-v-a4b0d9bf><div class="item" role="button" tabindex="0" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><h2 class="text" data-v-a4b0d9bf>Development</h2><!----></div><div class="items" data-v-a4b0d9bf><!--[--><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/guide/development/building.html" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Building</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/guide/development/debugging.html" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Debugging</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-a9a9e638 data-v-91765379><div class="VPDoc has-sidebar has-aside" data-v-91765379 data-v-83890dd9><!--[--><!--]--><div class="container" data-v-83890dd9><div class="aside" data-v-83890dd9><div class="aside-curtain" data-v-83890dd9></div><div class="aside-container" data-v-83890dd9><div class="aside-content" data-v-83890dd9><div class="VPDocAside" data-v-83890dd9 data-v-6d7b3c46><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-6d7b3c46 data-v-b38bf2ff><div class="content" data-v-b38bf2ff><div class="outline-marker" data-v-b38bf2ff></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-b38bf2ff>On this page</div><ul class="VPDocOutlineItem root" data-v-b38bf2ff data-v-3f927ebe><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-6d7b3c46></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-83890dd9><div class="content-container" data-v-83890dd9><!--[--><!--]--><main class="main" data-v-83890dd9><div style="position:relative;" class="vp-doc _guide_architecture_bootloader" data-v-83890dd9><div><h1 id="bootloader" tabindex="-1">Bootloader <a class="header-anchor" href="#bootloader" aria-label="Permalink to &quot;Bootloader&quot;">​</a></h1><p>SlayerOS uses the Limine bootloader to initialize the system and load the kernel. This document explains how the bootloader works and how the kernel interacts with it.</p><h2 id="limine-bootloader" tabindex="-1">Limine Bootloader <a class="header-anchor" href="#limine-bootloader" aria-label="Permalink to &quot;Limine Bootloader&quot;">​</a></h2><p><a href="https://github.com/limine-bootloader/limine" target="_blank" rel="noreferrer">Limine</a> is a modern, feature-rich bootloader that supports both BIOS and UEFI systems. It provides a clean interface for the kernel to retrieve system information and resources.</p><h3 id="key-features" tabindex="-1">Key Features <a class="header-anchor" href="#key-features" aria-label="Permalink to &quot;Key Features&quot;">​</a></h3><ul><li>Multiboot2 and Limine protocol support</li><li>BIOS and UEFI compatibility</li><li>Memory map information</li><li>Framebuffer initialization</li><li>Module loading</li><li>SMP (Symmetric Multiprocessing) initialization</li></ul><h2 id="boot-process" tabindex="-1">Boot Process <a class="header-anchor" href="#boot-process" aria-label="Permalink to &quot;Boot Process&quot;">​</a></h2><ol><li>The system firmware (BIOS or UEFI) loads the Limine bootloader</li><li>Limine parses its configuration file (<code>limine.conf</code>)</li><li>Limine loads the kernel into memory</li><li>Limine prepares the environment (memory map, framebuffer, etc.)</li><li>Limine transfers control to the kernel&#39;s entry point (<code>_start</code>)</li></ol><h2 id="limine-configuration" tabindex="-1">Limine Configuration <a class="header-anchor" href="#limine-configuration" aria-label="Permalink to &quot;Limine Configuration&quot;">​</a></h2><p>The Limine configuration file (<code>misc/boot/limine.conf</code>) specifies various boot parameters:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>TIMEOUT=0</span></span>
<span class="line"><span>SERIAL=yes</span></span>
<span class="line"><span></span></span>
<span class="line"><span>:SlayerOS</span></span>
<span class="line"><span>PROTOCOL=limine</span></span>
<span class="line"><span>KERNEL_PATH=boot/slay.kernel</span></span></code></pre></div><ul><li><code>TIMEOUT=0</code>: Boot immediately without showing a menu</li><li><code>SERIAL=yes</code>: Enable serial output for debugging</li><li><code>:SlayerOS</code>: Start of an entry named &quot;SlayerOS&quot;</li><li><code>PROTOCOL=limine</code>: Use the Limine protocol</li><li><code>KERNEL_PATH=boot/slay.kernel</code>: Path to the kernel binary on the boot medium</li></ul><h2 id="limine-protocol" tabindex="-1">Limine Protocol <a class="header-anchor" href="#limine-protocol" aria-label="Permalink to &quot;Limine Protocol&quot;">​</a></h2><p>The Limine protocol is a communication mechanism between the bootloader and the kernel. The kernel places &quot;requests&quot; in its binary, and the bootloader fills in &quot;responses&quot; before transferring control.</p><h3 id="request-structure" tabindex="-1">Request Structure <a class="header-anchor" href="#request-structure" aria-label="Permalink to &quot;Request Structure&quot;">​</a></h3><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> limine_request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    uint64_t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> id[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    uint64_t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> revision;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    void</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">response;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><h3 id="common-requests" tabindex="-1">Common Requests <a class="header-anchor" href="#common-requests" aria-label="Permalink to &quot;Common Requests&quot;">​</a></h3><p>SlayerOS uses several Limine requests:</p><ul><li><strong>Memory Map Request</strong>: Provides information about available memory regions</li><li><strong>Framebuffer Request</strong>: Provides a framebuffer for graphics output</li><li><strong>HHDM Request</strong>: Provides a Higher Half Direct Map for accessing physical memory</li><li><strong>Kernel File Request</strong>: Provides information about the kernel file</li></ul><h2 id="boot-context" tabindex="-1">Boot Context <a class="header-anchor" href="#boot-context" aria-label="Permalink to &quot;Boot Context&quot;">​</a></h2><p>SlayerOS defines a <code>BootloaderCtx</code> structure to store information provided by the bootloader:</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BootloaderCtx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> limine_memmap_response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">memmap;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> limine_framebuffer_response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fb_info;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> limine_hhdm_response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">hhdm;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> limine_kernel_file_response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">kernel_file;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>This structure is populated in <code>bootloader/limine.cxx</code> and used throughout the kernel.</p><h2 id="kernel-initialization" tabindex="-1">Kernel Initialization <a class="header-anchor" href="#kernel-initialization" aria-label="Permalink to &quot;Kernel Initialization&quot;">​</a></h2><p>After the bootloader transfers control to the kernel, the following steps occur:</p><ol><li>The <code>_start</code> function (assembly) sets up the stack and calls <code>_kernel_start</code></li><li><code>_kernel_start</code> initializes the UART for logging</li><li>The kernel collects bootloader information by accessing the Limine responses</li><li>The kernel initializes the frame allocator using the memory map</li><li>The kernel initializes the paging system</li><li>The kernel initializes the framebuffer for graphics output</li></ol><h2 id="debugging-with-serial-output" tabindex="-1">Debugging with Serial Output <a class="header-anchor" href="#debugging-with-serial-output" aria-label="Permalink to &quot;Debugging with Serial Output&quot;">​</a></h2><p>Limine can redirect kernel output to a serial port for debugging. This is enabled with the <code>SERIAL=yes</code> option in <code>limine.conf</code>. The kernel can then use the serial port for logging and debugging output.</p><h2 id="building-and-running" tabindex="-1">Building and Running <a class="header-anchor" href="#building-and-running" aria-label="Permalink to &quot;Building and Running&quot;">​</a></h2><p>To build an ISO image with Limine and the SlayerOS kernel:</p><ol><li>Compile the kernel</li><li>Create a directory structure for the ISO</li><li>Copy the kernel and Limine files to the appropriate locations</li><li>Use <code>xorriso</code> to create the ISO image</li><li>Install the Limine bootloader to the ISO</li></ol><p>This process is automated in the Makefile with the <code>iso</code> target.</p><h2 id="best-practices" tabindex="-1">Best Practices <a class="header-anchor" href="#best-practices" aria-label="Permalink to &quot;Best Practices&quot;">​</a></h2><p>When working with the bootloader:</p><ol><li>Always check that bootloader responses are valid before using them</li><li>Don&#39;t rely on bootloader-reclaimable memory after initialization</li><li>Use the memory map to avoid overwriting important memory regions</li><li>Initialize essential hardware (like the serial port) early for debugging</li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span></span></span>
<span class="line"><span>These documents provide comprehensive information about the memory management system and bootloader in SlayerOS, based on the architecture overview. They explain the key components, their functions, and how they work together to initialize and manage the system.</span></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-83890dd9 data-v-4f9813fa><!--[--><!--]--><div class="edit-info" data-v-4f9813fa><div class="edit-link" data-v-4f9813fa><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/slayer-os/slayer-os.github.io/edit/main/docs/guide/architecture/bootloader.md" target="_blank" rel="noreferrer" data-v-4f9813fa><!--[--><span class="vpi-square-pen edit-link-icon" data-v-4f9813fa></span> Edit this page on GitHub<!--]--></a></div><!----></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-4f9813fa><span class="visually-hidden" id="doc-footer-aria-label" data-v-4f9813fa>Pager</span><div class="pager" data-v-4f9813fa><a class="VPLink link pager-link prev" href="/guide/architecture/memory.html" data-v-4f9813fa><!--[--><span class="desc" data-v-4f9813fa>Previous page</span><span class="title" data-v-4f9813fa>Memory Management</span><!--]--></a></div><div class="pager" data-v-4f9813fa><a class="VPLink link pager-link next" href="/guide/architecture/driver.html" data-v-4f9813fa><!--[--><span class="desc" data-v-4f9813fa>Next page</span><span class="title" data-v-4f9813fa>Driver</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-a9a9e638 data-v-c970a860><div class="container" data-v-c970a860><p class="message" data-v-c970a860>SlayerOS</p><p class="copyright" data-v-c970a860>Copyright © 2025 SlayerOS</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"config_build.md\":\"CtNjmPXB\",\"config_hardware.md\":\"Dhu9s8Yi\",\"config_index.md\":\"BonfdQaV\",\"config_kernel.md\":\"CW-j_rkO\",\"guide_architecture_bootloader.md\":\"rF-HKSQW\",\"guide_architecture_driver.md\":\"CGaN-4j0\",\"guide_architecture_libc.md\":\"lKq24Xj1\",\"guide_architecture_memory.md\":\"DSsV3XJk\",\"guide_architecture_overview.md\":\"Bxl0mgL7\",\"guide_development_building.md\":\"D2lqfiPW\",\"guide_development_debugging.md\":\"owq1pV69\",\"guide_index.md\":\"CRJH3vjU\",\"index.md\":\"BNsqwxV1\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"SlayerOS\",\"description\":\"A lightweight, fast, and sleek operating system designed for x86_64 processors, focused on minimalism and efficiency\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"footer\":{\"message\":\"SlayerOS\",\"copyright\":\"Copyright © 2025 SlayerOS\"},\"search\":{\"provider\":\"local\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/slayer-os/\"}],\"editLink\":{\"pattern\":\"https://github.com/slayer-os/slayer-os.github.io/edit/main/docs/:path\",\"text\":\"Edit this page on GitHub\"},\"nav\":[{\"text\":\"Guide\",\"link\":\"/guide/\",\"activeMatch\":\"/guide/\"},{\"text\":\"Configuration\",\"link\":\"/config/\",\"activeMatch\":\"/config/\"},{\"text\":\"Contributing\",\"link\":\"/contributing/\",\"activeMatch\":\"/contributing/\"},{\"text\":\"Resources\",\"items\":[{\"text\":\"OS Development Wiki\",\"link\":\"https://wiki.osdev.org/Main_Page\"},{\"text\":\"x86_64 Reference\",\"link\":\"https://www.felixcloutier.com/x86/\"},{\"text\":\"Limine Bootloader\",\"link\":\"https://github.com/limine-bootloader/limine\"}]},{\"text\":\"1.0.3\",\"items\":[{\"text\":\"Changelog\",\"link\":\"https://github.com/slayer-os/SlayerOS/blob/main/CHANGELOG.md\"},{\"text\":\"Roadmap\",\"link\":\"https://github.com/slayer-os/SlayerOS/blob/main/ROADMAP.md\"}]}],\"sidebar\":{\"/guide/\":[{\"text\":\"Introduction\",\"collapsible\":true,\"items\":[{\"text\":\"What is this?\",\"link\":\"/guide/\"}]},{\"text\":\"Architecture\",\"collapsible\":true,\"items\":[{\"text\":\"Project Structure\",\"link\":\"/guide/architecture/overview\"},{\"text\":\"Memory Management\",\"link\":\"/guide/architecture/memory\"},{\"text\":\"Bootloader\",\"link\":\"/guide/architecture/bootloader\"},{\"text\":\"Driver\",\"link\":\"/guide/architecture/driver\"},{\"text\":\"LibC\",\"link\":\"/guide/architecture/libc\"}]},{\"text\":\"Development\",\"collapsible\":true,\"items\":[{\"text\":\"Building\",\"link\":\"/guide/development/building\"},{\"text\":\"Debugging\",\"link\":\"/guide/development/debugging\"}]}],\"/config/\":[{\"text\":\"Configuration\",\"items\":[{\"text\":\"Introduction\",\"link\":\"/config/\"},{\"text\":\"Kernel Configuration\",\"link\":\"/config/kernel\"},{\"text\":\"Build Options\",\"link\":\"/config/build\"},{\"text\":\"Hardware Support\",\"link\":\"/config/hardware\"}]}]}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>